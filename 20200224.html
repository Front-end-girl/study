<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    1
    <br />
    1
    <br />
    1 <br />
    1 <br />
    1 <br />
    1 <br />
    1 <br />
    1 <br />
    1 <br />
    1 <br />
    1 <br />
    1 <br />
    1 <br />
    1 <br />
    1 <br />
    1 <br />
    1 <br />
    1 <br />
    1 <br />
    1 <br />
    1 <br />
    1 <br />
    1 <br />
    1 <br />
    1 <br />
    1 <br />
    1 <br />
    1 <br />
    1 <br />
    1 <br />
    1 <br />
    1 <br />
    1 <br />
    1 <br />
    1 <br />
    1 <br />
    1 <br />
    1 <br />
    1 <br />
    1 <br />
    1 <br />
    1 <br />
    1 <br />
    1 <br />
    1 <br />
    1 <br />
    1 <br />
    1 <br />
    1 <br />
    1 <br />
    1 <br />
    1 <br />
    1 <br />
    1 <br />
    1
    <br />
    <script>
      // 面试题
      //   1
      console.log(["1", "2", "3"].map(parseInt)); //[1, NaN, NaN]
      //   map的参数 (item,index) index-012 0表示10进制 1表示1进制 最大是小于1 2表示2进制 最大小于2
      // parseInt(item,radiux) //如果该参数小于 2 或者大于 36，则 parseInt() 将返回 NaN。
      let fnInt = (i) => parseInt(i);
      console.log(["1", "2", "3"].map(fnInt));

      console.log(["10", "10", "10", "10", "10"].map(parseInt)); //01234
      // 10 NaN(如果该参数小于 2 或者大于 36,则 parseInt() 将返回 NaN) 2 (0*2+1*2) 3(0*3+1*3) 4(0*4+1*4)

      //2
      //   双箭头函数
      let fn = (fn1) => (fn2) => fn1(i);
      console.log(["1", "2", "3"].map(fn));

      //3
      console.log(["10", "10", "10", "10", "10"].map(Number));

      //   4
      // 什么是防抖和节流？有什么区别？如何实现？
      //防抖以最后一次执行为准
      // 场景：搜索（key up）
      function debounce(fn, time) {
        let timer;
        return function () {
          //如果箭头函数arguments 则向上一次寻找
          if (timer) clearTimeout(timer);
          timer = setTimeout(fn.bind(null, ...arguments), time);
        };
      }
      let _bounceFn = (a) => {
        console.log(a);
      };
      let _bounce = debounce(_bounceFn, 1000);
      document.addEventListener(
        "scroll",
        () => {
          _bounce("scroll");
        },
        false
      );
      //节流：间隔输出
      // 场景：页面resize 、scroll、抢购、疯狂点击,
      function thorttle(fn, time) {
        let last; //最后执行时间
        let timer;
        return function () {
          let now = new Date();
          if (timer) clearTimeout(timer);
          if (now - last >= time) {
            fn.call(null, ...arguments);
            last = now;
          } else {
            timer = setTimeout(fn.bind(null, ...arguments), time);
          }
        };
      }
      let thorttleFn = (e) => {
        console.log(e);
        console.log(window.innerWidth);
      };
      let _thorttle = thorttle(thorttleFn, 10000);
      window.addEventListener(
        "resize",
        () => {
          console.log("resize");
          _thorttle("resize");
        },
        false
      );
    </script>
  </body>
</html>
